<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Products</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script src="https://demos.jquerymobile.com/1.4.2/js/jquery.mobile-1.4.2.min.js"></script>
    <link rel="stylesheet" href="https://demos.jquerymobile.com/1.4.2/css/themes/default/jquery.mobile-1.4.2.min.css">  
    <script src="https://demos.jquerymobile.com/1.4.2/js/jquery.js"></script>
    
    <link rel="stylesheet" href="/css/anotherCSS.css">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/styles-nav.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-fixed-top" style="background-color: #E5E5E5; ">
        <div class="allElements">
            <div class = "navbar-header">
                <a href="/products"><img src="/img/logo.svg" alt="Logo-Website" class="top-img-Main-Page"></a>
            </div>
            <ul class="navbar-nav">
                <li>
                    <div class="elementNavbar">
                        <form method="POST" action="/products/search">
                            <span class="inputProduct"><input type="text" name="searchtext"  class="form-control inputElement" type="text" placeholder="Search Here"></span>
                            <span><button type="submit" class="btn btn-primary productSubmitButton">Submit</button></span>
                        </form>
                    </div>
                </li>
            </ul>
            <span><a href="#"><img class="cart-img nav-bar-option-svg" src="/img/cart.svg"></a></span>
            <span ><a href="#" class="AccountButton nav-bar-option-text">Account</a></span>
            <span><a href="#"><img class="sign-out-img nav-bar-option-svg" src="/img/logout.svg"></a></span>
        </div>
    </nav>

    
    
    <br>
    <h1 class="wishlist-title">Category : <%=category.name%></h1><br>
    <div class="filter-elements">
        <div class="text-filter">
            Price Range : 
        </div>
        <div class="range-sliding-class">
        <form method="POST" action="/category/filter">
            <div data-role="rangeslider">
                <label for="range-1a">Rangeslider:</label>
                <input type="range" name="mini" id="range-1a" min="0" max="100" value="40" data-popup-enabled="true" data-show-value="true">
                <label for="range-1b">Rangeslider:</label>
                <input type="range" name="maxi" id="range-1b" min="0" max="100" value="80" data-popup-enabled="true" data-show-value="true">
            </div>
        </form>

        </div>
    </div><br>


    <br><br>
    <div class="all-products-container">
        <%products.forEach(product=>{%>
            <div class="common-container allProductsContainerMain">
                <div class="all-products-inside-container">
                    <%if (product.productImage.data){%>
                        <img class="allProducts-Image" src="data:image/<%=product.productImage.contentType%>;base64, 
                        <%=product.productImage.data.toString('base64')%>">  
                        <%} else if(product.imageURL){%>
                            <img class="allProducts-Image" src="<%=product.imageURL%>"> 
                    <%}%>
                     <br>
                    <!-- <img class="allProducts-Image" src="cart.png" srcset=""><br> -->
                    <div class="item-description" style="margin-left: 20px; margin-right: 20;">
                        <h2 style="font-family: Poppins;font-size: 25px; font-weight: bold;"><%=product.name%></h2><br>
                        <h4 style="font-family: Poppins;font-size: 20px; font-weight: bold;">Price : <%=product.price%></h4>
                    </div>
                    <br><br>
                    <div class="all-Products-item-buttons" style="margin: auto;">
                        <a href="/products/<%=product._id%>"><button type="button" class="allProducts-add button-text" style="border-radius: 8px;">Add to Cart</button></a>
                    </div>
                    
                </div>
            </div>
        <%})%>
    </div>
    <script type="text/javascript">  
        $('input').popup(); 
        </script>
</body>
</html>

<!-- ALL products of category:<%=category.name%>

Filter here
<form method="POST" action="/category/filter">
    <input type="text" placeholder="Minimum Price" name="mini">
    <input type="text" placeholder="Max Price" name="maxi">
    <input type="text" value="<%=category._id%>" name ="category" hidden=true>
    <button type="submit">Filter</button>
</form>


<p></p>
<p></p>
<%products.forEach(product=>{%>
    <%if (product.productImage.data){%>
        <img  height="250" width="250" src="data:image/<%=product.productImage.contentType%>;base64, 
        <%=product.productImage.data.toString('base64')%>">  
        <%} else if(product.imageURL){%>
            <img  height="250" width="250" src="<%=product.imageURL%>"> 
        <%}%>
        <p></p>
       Name:  <a href="/products/<%=product._id%>" style="color: blue;"><%=product.name%></a>
        <p></p>
       Price <%=product.price%>
    <p></p>
<%})%> -->

